import{j as a}from"./jsx-runtime-CDt2p4po.js";import{r as l}from"./index-GiUgBvb1.js";import{I as ae}from"./Icon-BGfffQ3t.js";import{T as M}from"./Typo-B1DNflFC.js";import{A as I}from"./Avatar-Oy2jbprJ.js";import{A as le}from"./AvatarGroup-DdCv6cY9.js";import"./index-B8ehKEGt.js";function A({className:v="",options:t,onSearch:b,selectedOption:n,onSelect:i,searchDelay:m=300,disabled:s=!1,maxHeight:h=152,id:d,...g}){const p=d??l.useId(),E=`${p}-listbox`,[W,N]=l.useState(""),[u,f]=l.useState(!1),[D,o]=l.useState(-1),U=l.useRef(null),T=l.useRef(null),y=l.useRef(null),c=l.useMemo(()=>Array.isArray(t)&&typeof t[0]=="string"?t.map(e=>({label:e,value:e})):t,[t]),_=l.useMemo(()=>c.some(e=>!!e.image),[c]),F=n!=null?typeof n=="string"?n:n.label:W,Q=l.useCallback(e=>{y.current&&clearTimeout(y.current),y.current=window.setTimeout(()=>{b(e)},m)},[b,m]);function Y(){s||f(!0)}function w(){f(!1),o(-1)}function L(e){i(e),N(""),w()}function $(){i(null),N(""),w()}function Z(e){if(!u&&(e.key==="ArrowDown"||e.key==="ArrowUp")){f(!0),o(0),e.preventDefault();return}if(u)if(e.key==="ArrowDown")e.preventDefault(),o(r=>Math.min(r+1,c.length-1)),x();else if(e.key==="ArrowUp")e.preventDefault(),o(r=>Math.max(r-1,0)),x();else if(e.key==="Enter"){e.preventDefault();const r=c[D];r&&L(r)}else e.key==="Escape"?(e.preventDefault(),w()):e.key==="Home"?(e.preventDefault(),o(0),x()):e.key==="End"&&(e.preventDefault(),o(c.length-1),x())}function x(){const e=T.current,r=D;if(!e||r<0)return;const S=e.children[r];S==null||S.scrollIntoView({block:"nearest"})}return l.useEffect(()=>()=>{y.current&&clearTimeout(y.current)},[]),a.jsxs("div",{ref:U,className:["relative w-full",v].join(" "),...g,children:[a.jsx("div",{className:["w-full min-w-0 rounded-full border bg-[var(--surface)] transition-colors h-12","border-[var(--border)] focus-within:border-[var(--color-brand)]",s?"opacity-60 cursor-not-allowed":""].join(" "),children:a.jsx("div",{className:"relative flex px-5 pb-1 h-full",children:a.jsxs("div",{className:"flex w-full",children:[a.jsx("input",{id:p,role:"combobox","aria-expanded":u,"aria-controls":E,"aria-autocomplete":"list","aria-disabled":s||void 0,type:"text",value:F,onChange:e=>{const r=e.target.value;N(r),Q(r),u||f(!0),o(0)},onFocus:Y,onKeyDown:Z,onBlur:()=>setTimeout(w,150),disabled:s,className:["w-full rounded-full border-0 outline-none bg-transparent","text-sm text-[var(--fg)] placeholder:text-[var(--muted-fg)]","pr-2"].join(" "),placeholder:"Pesquisar",onClick:()=>!s&&f(!0)}),a.jsx("button",{type:"button",onClick:n&&!u?$:()=>f(e=>!e),disabled:s,"aria-label":n&&!u?"Clear":u?"Collapse":"Expand",className:["flex items-center justify-center rounded-full bg-transparent",s?"cursor-not-allowed":"hover:bg-[var(--muted)]"].join(" "),children:a.jsx(ae,{name:"search",size:"md",className:"text-[var(--muted-fg)]"})})]})})}),u&&!s&&a.jsx("div",{className:["absolute z-20 mt-2 w-full overflow-y-auto rounded-lg border border-[var(--border)]","bg-[var(--surface)] text-[var(--fg)] shadow-md backdrop-blur-sm px-3 py-1.5"].join(" "),style:{maxHeight:h},children:c.length>0?a.jsx("ul",{id:E,role:"listbox",ref:T,children:c.map((e,r)=>{const S=r===D,X=n!=null&&(typeof n=="string"?n===e.label:n.label===e.label);return a.jsxs("li",{role:"option","aria-selected":X,className:["flex items-center justify-between px-4 py-2 text-sm cursor-pointer transition-colors",S?"bg-[var(--muted)]":"",r!==c.length-1?"border-b border-[var(--border)]":""].join(" "),onMouseEnter:()=>o(r),onMouseDown:k=>k.preventDefault(),onClick:()=>L(e),children:[a.jsxs("div",{className:"flex items-center gap-2",children:[_&&a.jsx(I,{name:e.label,src:e.image||void 0}),a.jsx(M,{variant:"label-lg",className:"font-normal text-[var(--fg)]",children:e.label})]}),Array.isArray(e.group)&&e.group.length>0&&a.jsx(le,{children:e.group.map((k,ee)=>a.jsx(I,{name:k.name,src:k.image||void 0},ee))})]},`${e.label}-${r}`)})}):a.jsx("div",{className:"px-4 py-3",children:a.jsx(M,{variant:"body-sm",className:"text-[var(--muted-fg)]",children:"No results found"})})})]})}A.__docgenInfo={description:"",methods:[],displayName:"Search",props:{options:{required:!0,tsType:{name:"union",raw:"SearchOption[] | string[]",elements:[{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  label: string;
  value: any;
  image?: string;
  group?: Array<{ name: string; image?: string }>;
}`,signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"value",value:{name:"any",required:!0}},{key:"image",value:{name:"string",required:!1}},{key:"group",value:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ name: string; image?: string }",signature:{properties:[{key:"name",value:{name:"string",required:!0}},{key:"image",value:{name:"string",required:!1}}]}}],raw:"Array<{ name: string; image?: string }>",required:!1}}]}}],raw:"SearchOption[]"},{name:"Array",elements:[{name:"string"}],raw:"string[]"}]},description:"Array of options to display"},onSearch:{required:!0,tsType:{name:"signature",type:"function",raw:"(query: string) => void",signature:{arguments:[{type:{name:"string"},name:"query"}],return:{name:"void"}}},description:"Callback when search is performed (debounced)"},selectedOption:{required:!0,tsType:{name:"union",raw:"SearchOption | string | null",elements:[{name:"signature",type:"object",raw:`{
  label: string;
  value: any;
  image?: string;
  group?: Array<{ name: string; image?: string }>;
}`,signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"value",value:{name:"any",required:!0}},{key:"image",value:{name:"string",required:!1}},{key:"group",value:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ name: string; image?: string }",signature:{properties:[{key:"name",value:{name:"string",required:!0}},{key:"image",value:{name:"string",required:!1}}]}}],raw:"Array<{ name: string; image?: string }>",required:!1}}]}},{name:"string"},{name:"null"}]},description:"Currently selected option"},onSelect:{required:!0,tsType:{name:"signature",type:"function",raw:"(option: SearchOption | string | null) => void",signature:{arguments:[{type:{name:"union",raw:"SearchOption | string | null",elements:[{name:"signature",type:"object",raw:`{
  label: string;
  value: any;
  image?: string;
  group?: Array<{ name: string; image?: string }>;
}`,signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"value",value:{name:"any",required:!0}},{key:"image",value:{name:"string",required:!1}},{key:"group",value:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ name: string; image?: string }",signature:{properties:[{key:"name",value:{name:"string",required:!0}},{key:"image",value:{name:"string",required:!1}}]}}],raw:"Array<{ name: string; image?: string }>",required:!1}}]}},{name:"string"},{name:"null"}]},name:"option"}],return:{name:"void"}}},description:"Callback when an option is selected"},searchDelay:{required:!1,tsType:{name:"number"},description:"Search delay in milliseconds (default: 300ms)",defaultValue:{value:"300",computed:!1}},disabled:{required:!1,tsType:{name:"boolean"},description:"Whether the component is disabled",defaultValue:{value:"false",computed:!1}},maxHeight:{required:!1,tsType:{name:"number"},description:"Maximum height of the options dropdown",defaultValue:{value:"152",computed:!1}},id:{required:!1,tsType:{name:"string"},description:"Optional id base (for accessibility hooks)"},className:{defaultValue:{value:'""',computed:!1},required:!1}},composes:["Omit"]};const C=[{label:"Ada Lovelace",value:"ada",image:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?q=80&w=128&auto=format&fit=facearea&facepad=2"},{label:"Alan Turing",value:"turing"},{label:"Grace Hopper",value:"hopper",image:"https://images.unsplash.com/photo-1545184180-25d471fe75d8?q=80&w=128&auto=format&fit=facearea&facepad=2"},{label:"Edsger Dijkstra",value:"dijkstra"},{label:"Barbara Liskov",value:"liskov"},{label:"Donald Knuth",value:"knuth"},{label:"Margaret Hamilton",value:"hamilton",image:"https://images.unsplash.com/photo-1494790108755-2616b612b786?q=80&w=128&auto=format&fit=facearea&facepad=2"},{label:"John von Neumann",value:"neumann"},{label:"Claude Shannon",value:"shannon"},{label:"Tim Berners-Lee",value:"berners-lee",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?q=80&w=128&auto=format&fit=facearea&facepad=2"},{label:"Linus Torvalds",value:"torvalds"},{label:"Guido van Rossum",value:"rossum",image:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?q=80&w=128&auto=format&fit=facearea&facepad=2"},{label:"Brendan Eich",value:"eich"},{label:"Yukihiro Matsumoto",value:"matsumoto"},{label:"James Gosling",value:"gosling"},{label:"Bjarne Stroustrup",value:"stroustrup"},{label:"Dennis Ritchie",value:"ritchie"},{label:"Ken Thompson",value:"thompson"},{label:"Brian Kernighan",value:"kernighan"},{label:"Richard Stallman",value:"stallman"},{label:"Eric Raymond",value:"raymond"},{label:"Andrew Tanenbaum",value:"tanenbaum"},{label:"Vint Cerf",value:"cerf"},{label:"Bob Kahn",value:"kahn"},{label:"Douglas Engelbart",value:"engelbart"},{label:"Ivan Sutherland",value:"sutherland"},{label:"Marvin Minsky",value:"minsky"},{label:"John McCarthy",value:"mccarthy"},{label:"Herbert Simon",value:"simon"},{label:"Allen Newell",value:"newell"},{label:"Norbert Wiener",value:"wiener"},{label:"Claude Elwood Shannon",value:"shannon-claude"},{label:"George Boole",value:"boole"},{label:"Augusta Ada King",value:"ada-king"},{label:"Charles Babbage",value:"babbage"},{label:"Herman Hollerith",value:"hollerith"},{label:"Konrad Zuse",value:"zuse"},{label:"Tommy Flowers",value:"flowers"},{label:"Max Newman",value:"newman"},{label:"Jack Kilby",value:"kilby"},{label:"Robert Noyce",value:"noyce"},{label:"Gordon Moore",value:"moore"},{label:"Andy Grove",value:"grove"},{label:"Steve Jobs",value:"jobs",image:"https://images.unsplash.com/photo-1560250097-0b93528c311a?q=80&w=128&auto=format&fit=facearea&facepad=2"},{label:"Steve Wozniak",value:"wozniak"},{label:"Bill Gates",value:"gates",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?q=80&w=128&auto=format&fit=facearea&facepad=2"},{label:"Paul Allen",value:"allen"},{label:"Larry Page",value:"page"},{label:"Sergey Brin",value:"brin"},{label:"Jeff Bezos",value:"bezos"},{label:"Elon Musk",value:"musk",image:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?q=80&w=128&auto=format&fit=facearea&facepad=2"},{label:"Mark Zuckerberg",value:"zuckerberg"},{label:"Satya Nadella",value:"nadella"},{label:"Sundar Pichai",value:"pichai"},{label:"Jensen Huang",value:"huang"},{label:"Lisa Su",value:"su"},{label:"Pat Gelsinger",value:"gelsinger"},{label:"Jensen Huang",value:"huang-jensen"},{label:"Susan Wojcicki",value:"wojcicki"},{label:"Sheryl Sandberg",value:"sandberg"},{label:"Marissa Mayer",value:"mayer"},{label:"Ginni Rometty",value:"rometty"},{label:"Meg Whitman",value:"whitman"},{label:"Carly Fiorina",value:"fiorina"},{label:"Mary Barra",value:"barra"},{label:"Indra Nooyi",value:"nooyi"},{label:"Ursula Burns",value:"burns"},{label:"Ginni Rometty",value:"rometty-ginni"},{label:"Virginia Rometty",value:"rometty-virginia"},{label:"Rosalind Picard",value:"picard"},{label:"Fei-Fei Li",value:"li"},{label:"Yann LeCun",value:"lecun"},{label:"Geoffrey Hinton",value:"hinton"},{label:"Yoshua Bengio",value:"bengio"},{label:"Andrew Ng",value:"ng"},{label:"Demis Hassabis",value:"hassabis"},{label:"Mustafa Suleyman",value:"suleyman"},{label:"Shane Legg",value:"legg"},{label:"Oriol Vinyals",value:"vinyals"},{label:"Quoc Le",value:"le"},{label:"Jeff Dean",value:"dean"},{label:"Sanjay Ghemawat",value:"ghemawat"},{label:"Luiz Andr√© Barroso",value:"barroso"},{label:"Urs H√∂lzle",value:"holzle"},{label:"Eric Schmidt",value:"schmidt"},{label:"Jonathan Rosenberg",value:"rosenberg"},{label:"Alan Eustace",value:"eustace"},{label:"David Drummond",value:"drummond"},{label:"Kent Walker",value:"walker"},{label:"Ruth Porat",value:"porat"},{label:"Patrick Pichette",value:"pichette"},{label:"Larry Page",value:"page-larry"},{label:"Sergey Brin",value:"brin-sergey"},{label:"Eric Schmidt",value:"schmidt-eric"},{label:"Jonathan Rosenberg",value:"rosenberg-jonathan"},{label:"Alan Eustace",value:"eustace-alan"},{label:"David Drummond",value:"drummond-david"},{label:"Kent Walker",value:"walker-kent"},{label:"Ruth Porat",value:"porat-ruth"},{label:"Patrick Pichette",value:"pichette-patrick"}],ce={title:"Components/Search",component:A,args:{options:C,selectedOption:null,disabled:!1,maxHeight:180,searchDelay:300}},j={render:v=>{const[t,b]=l.useState(v.selectedOption),[n,i]=l.useState([]),[m,s]=l.useState(!1),h=l.useCallback(d=>{d.trim()?(s(!0),setTimeout(()=>{const g=C.filter(p=>p.label.toLowerCase().includes(d.toLowerCase()));i(g),s(!1)},500)):(i([]),s(!1))},[]);return a.jsxs("div",{className:"max-w-md",children:[a.jsx(A,{...v,options:m?[]:n,selectedOption:t,onSelect:b,onSearch:h}),a.jsxs("div",{className:"mt-3 text-xs text-[var(--muted-fg)]",children:["Selected: ",typeof t=="string"?t:(t==null?void 0:t.label)??"none"]}),m&&a.jsx("div",{className:"mt-2 text-xs text-[var(--muted-fg)]",children:"üîç Searching..."})]})}},R={args:{searchDelay:1e3},render:v=>{const[t,b]=l.useState(null),[n,i]=l.useState([]),[m,s]=l.useState(0),h=l.useCallback(d=>{if(s(g=>g+1),d.trim()){const g=C.filter(p=>p.label.toLowerCase().includes(d.toLowerCase()));i(g)}else i([])},[]);return a.jsxs("div",{className:"max-w-md",children:[a.jsx(A,{...v,options:n,selectedOption:t,onSelect:b,onSearch:h}),a.jsxs("div",{className:"mt-3 text-xs text-[var(--muted-fg)]",children:["Search calls made: ",m," (1 second delay)"]})]})}},q={args:{disabled:!0,options:C}};var H,B,P;j.parameters={...j.parameters,docs:{...(H=j.parameters)==null?void 0:H.docs,source:{originalSource:`{
  render: args => {
    const [value, setValue] = React.useState<SearchOption | string | null>(args.selectedOption);
    const [results, setResults] = React.useState<SearchOption[]>([]);
    const [isSearching, setIsSearching] = React.useState(false);
    const handleSearch = React.useCallback((query: string) => {
      if (query.trim()) {
        setIsSearching(true);
        // Simulate API call delay
        setTimeout(() => {
          const filtered = SEARCH_RESULTS.filter(item => item.label.toLowerCase().includes(query.toLowerCase()));
          setResults(filtered);
          setIsSearching(false);
        }, 500);
      } else {
        setResults([]);
        setIsSearching(false);
      }
    }, []);
    return <div className="max-w-md">
        <Search {...args} options={isSearching ? [] : results} selectedOption={value} onSelect={setValue} onSearch={handleSearch} />
        <div className="mt-3 text-xs text-[var(--muted-fg)]">
          Selected: {typeof value === "string" ? value : value?.label ?? "none"}
        </div>
        {isSearching && <div className="mt-2 text-xs text-[var(--muted-fg)]">
            üîç Searching...
          </div>}
      </div>;
  }
}`,...(P=(B=j.parameters)==null?void 0:B.docs)==null?void 0:P.source}}};var V,O,G;R.parameters={...R.parameters,docs:{...(V=R.parameters)==null?void 0:V.docs,source:{originalSource:`{
  args: {
    searchDelay: 1000
  },
  render: args => {
    const [value, setValue] = React.useState<SearchOption | string | null>(null);
    const [results, setResults] = React.useState<SearchOption[]>([]);
    const [searchCount, setSearchCount] = React.useState(0);
    const handleSearch = React.useCallback((query: string) => {
      setSearchCount(prev => prev + 1);
      if (query.trim()) {
        const filtered = SEARCH_RESULTS.filter(item => item.label.toLowerCase().includes(query.toLowerCase()));
        setResults(filtered);
      } else {
        setResults([]);
      }
    }, []);
    return <div className="max-w-md">
        <Search {...args} options={results} selectedOption={value} onSelect={setValue} onSearch={handleSearch} />
        <div className="mt-3 text-xs text-[var(--muted-fg)]">
          Search calls made: {searchCount} (1 second delay)
        </div>
      </div>;
  }
}`,...(G=(O=R.parameters)==null?void 0:O.docs)==null?void 0:G.source}}};var z,J,K;q.parameters={...q.parameters,docs:{...(z=q.parameters)==null?void 0:z.docs,source:{originalSource:`{
  args: {
    disabled: true,
    options: SEARCH_RESULTS
  }
}`,...(K=(J=q.parameters)==null?void 0:J.docs)==null?void 0:K.source}}};const me=["Playground","WithCustomDelay","Disabled"];export{q as Disabled,j as Playground,R as WithCustomDelay,me as __namedExportsOrder,ce as default};
